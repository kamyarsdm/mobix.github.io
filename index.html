<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mobix | Ù…ÙˆØ¨ÛŒÚ©Ø³ â€” ØªØ¹Ù…ÛŒØ± Ù…ÙˆØ¨Ø§ÛŒÙ„</title>

  <meta name="description" content="Ù…ÙˆØ¨ÛŒÚ©Ø³Ø› ØªØ¹Ù…ÛŒØ± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³ Ú©Ø§Ù…Ù„. Ø¯Ø±ÛŒØ§ÙØª Ùˆ ØªØ­ÙˆÛŒÙ„ Ø¨Ø§ Ù¾ÛŒÚ© Ù…ÙˆØ¨ÛŒÚ©Ø³ØŒ ØªØ¹Ù…ÛŒØ± ØªÙˆØ³Ø· ØªØ¹Ù…ÛŒØ±Ú©Ø§Ø±Ø§Ù† Ù…ÙˆØ¨ÛŒÚ©Ø³ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ." />

  <meta property="og:title" content="Mobix | Ù…ÙˆØ¨ÛŒÚ©Ø³ â€” ØªØ¹Ù…ÛŒØ± Ù…ÙˆØ¨Ø§ÛŒÙ„" />
  <meta property="og:description" content="ØªØ¹Ù…ÛŒØ± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³ Ú©Ø§Ù…Ù„: Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³ØªØŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù¾ÛŒÚ©ØŒ Ø§Ø¹Ù„Ø§Ù… Ù‡Ø²ÛŒÙ†Ù‡ØŒ ØªØ¹Ù…ÛŒØ± Ùˆ ØªØ­ÙˆÛŒÙ„." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://mobixfix.ir/assets/hero-final.jpg" />

  <meta name="theme-color" content="#1F6AFF" />
  <link rel="icon" href="assets/logo.png" />

  <!-- Vazirmatn -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#F6F8FC;
      --card:#FFFFFF;
      --text:#0B1220;
      --muted:#5B6B84;
      --line:rgba(15,23,42,.08);

      --shadow: 0 14px 36px rgba(15,23,42,.10);
      --shadow2: 0 8px 18px rgba(15,23,42,.08);

      --radius:20px;

      --primary:#1F6AFF;
      --primary2:#3B82F6;
      --success:#10B981;
      --danger:#EF4444;
      --warn:#F59E0B;

      --max:1160px;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:"Vazirmatn", system-ui, sans-serif;
      background:
        radial-gradient(1000px 500px at 80% -10%, rgba(31,106,255,.16), transparent 55%),
        radial-gradient(900px 600px at 20% 10%, rgba(59,130,246,.08), transparent 55%),
        var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }

    a{text-decoration:none;color:inherit}
    img{max-width:100%;display:block}

    .container{
      max-width:var(--max);
      margin:auto;
      padding:14px 16px 96px;
    }

    /* TOP BAR */
    .topbar{
      position:sticky;top:0;z-index:50;
      padding:10px 0;
      backdrop-filter: blur(12px);
    }
    .topbar-inner{
      display:flex;align-items:center;justify-content:space-between;
      background:rgba(246,248,252,.86);
      border:1px solid var(--line);
      border-radius:999px;
      padding:10px 12px;
      box-shadow:var(--shadow2);
      gap:10px;
    }
    .brand{display:flex;align-items:center;gap:10px;min-width:0}
    .brand img{width:64px;height:auto}
    .brand-title{font-weight:900;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

    .nav{
      display:flex;align-items:center;gap:8px;flex-wrap:wrap;
      justify-content:flex-end;
    }
    .chip{
      padding:9px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.86);
      font-weight:800;
      font-size:13px;
      box-shadow:var(--shadow2);
      white-space:nowrap;
    }

    .btn{
      padding:10px 16px;
      border-radius:14px;
      font-weight:900;
      border:1px solid var(--line);
      background:#fff;
      box-shadow:var(--shadow2);
      cursor:pointer;
      font-family:inherit;
      white-space:nowrap;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
    }
    .btn.primary{
      background:linear-gradient(135deg,var(--primary),var(--primary2));
      color:#fff;
      border:none;
    }
    .btn.ghost{
      background:rgba(255,255,255,.72);
    }
    .btn.danger{
      background:rgba(239,68,68,.10);
      border:1px solid rgba(239,68,68,.25);
      color:#7F1D1D;
    }
    .btn:disabled{opacity:.55;cursor:not-allowed}

    /* HERO */
    .hero{
      margin-top:16px;
      display:grid;
      grid-template-columns:1.05fr .95fr;
      gap:14px;
      align-items:start;
    }
    @media(max-width:980px){.hero{grid-template-columns:1fr}}

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:var(--shadow);
    }

    h1{
      font-size:44px;
      font-weight:900;
      margin:0 0 8px;
      letter-spacing:-.3px;
    }
    @media(max-width:520px){h1{font-size:34px}}

    .sub{
      color:var(--muted);
      font-size:15.5px;
      line-height:1.85;
      margin:0;
    }

    .cta{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}

    .hero-art{
      margin-top:14px;
      border-radius:20px;
      overflow:hidden;
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      background:
        radial-gradient(600px 260px at 70% 0%, rgba(31,106,255,.18), transparent 60%),
        radial-gradient(520px 260px at 10% 40%, rgba(59,130,246,.12), transparent 58%),
        #0B0F1A;
      max-height:360px;
    }
    .hero-art img{
      width:100%;
      height:360px;
      object-fit:cover;
      object-position:center;
      filter:saturate(.98) brightness(1.03);
    }
    @media(max-width:980px){
      .hero-art{max-height:320px}
      .hero-art img{height:320px}
    }
    @media(max-width:520px){
      .hero-art{max-height:220px}
      .hero-art img{height:220px}
    }

    .mini-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
      margin-top:14px;
    }
    @media(max-width:520px){.mini-grid{grid-template-columns:1fr}}
    .mini{
      background:linear-gradient(180deg, rgba(31,106,255,.06), rgba(255,255,255,1));
      border:1px solid var(--line);
      border-radius:18px;
      padding:12px 12px;
    }
    .mini .t{font-weight:900}
    .mini .d{color:var(--muted);font-size:13.5px;line-height:1.75;margin-top:6px}

    /* APP PREVIEW */
    .app-wrap{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:10px;
      align-items:stretch;
    }
    @media(max-width:900px){.app-wrap{grid-template-columns:1fr}}

    .mock{
      border:1px solid var(--line);
      border-radius:22px;
      overflow:hidden;
      box-shadow:var(--shadow);
      background:linear-gradient(180deg, rgba(31,106,255,.08), rgba(255,255,255,1));
      position:relative;
      min-height:260px;
    }
    .mock-top{
      display:flex;align-items:center;justify-content:space-between;
      padding:12px 14px;
      background:rgba(255,255,255,.86);
      border-bottom:1px solid var(--line);
      gap:10px;
    }
    .mock-top b{font-weight:900}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;
      border-radius:999px;
      background:rgba(31,106,255,.10);
      border:1px solid rgba(31,106,255,.18);
      color:#0B2A6A;
      font-weight:900;
      font-size:12.5px;
      white-space:nowrap;
    }
    .mock-body{padding:14px}

    /* Redesigned preview: tracking mini + chat */
    .preview-card{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .mini-kpis{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    @media(max-width:520px){.mini-kpis{grid-template-columns:1fr}}
    .mk{
      border:1px solid var(--line);
      background:#fff;
      border-radius:18px;
      padding:12px;
      box-shadow:var(--shadow2);
    }
    .mk b{display:block;font-weight:900}
    .mk span{display:block;color:var(--muted);font-size:13px;line-height:1.75;margin-top:6px}

    .mini-track{
      background:#fff;
      border:1px solid var(--line);
      border-radius:18px;
      padding:12px;
      box-shadow:var(--shadow2);
    }
    .mini-track-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .mini-track-top b{font-weight:900}
    .badge-status{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(16,185,129,.22);
      background:rgba(16,185,129,.08);
      color:#0B3A2C;
      font-weight:900;
      font-size:12.6px;
    }
    .badge-status .dot{
      width:10px;height:10px;border-radius:999px;background:var(--success);
      box-shadow:0 8px 16px rgba(16,185,129,.18);
    }

    .progress{
      height:10px;
      border-radius:999px;
      background:rgba(15,23,42,.06);
      border:1px solid var(--line);
      overflow:hidden;
    }
    .progress > i{
      display:block;
      height:100%;
      width:62%;
      background:linear-gradient(135deg,var(--primary),var(--primary2));
      border-radius:999px;
      box-shadow:0 10px 20px rgba(31,106,255,.18);
    }

    .mini-steps{
      display:flex;
      justify-content:space-between;
      gap:8px;
      margin-top:10px;
    }
    .mini-steps .st{
      flex:1 1 auto;
      border:1px solid var(--line);
      border-radius:14px;
      background:rgba(246,248,252,.55);
      padding:10px;
      text-align:center;
      font-weight:900;
      font-size:12.5px;
      color:var(--muted);
      min-width:0;
    }
    .mini-steps .st.active{
      background:rgba(31,106,255,.10);
      border-color:rgba(31,106,255,.22);
      color:#0B2A6A;
    }
    .mini-steps .st.done{
      background:rgba(16,185,129,.10);
      border-color:rgba(16,185,129,.22);
      color:#0B3A2C;
    }

    .step{
      display:flex;gap:10px;align-items:flex-start;
      padding:10px 10px;
      border-radius:16px;
      border:1px solid var(--line);
      background:#fff;
      margin-bottom:10px;
    }
    .step:last-child{margin-bottom:0}
    .sicon{
      width:34px;height:34px;border-radius:12px;
      background:linear-gradient(135deg, rgba(31,106,255,.22), rgba(59,130,246,.12));
      border:1px solid rgba(31,106,255,.18);
      display:flex;align-items:center;justify-content:center;
      font-weight:900;color:#0B2A6A;
      flex:0 0 auto;
    }
    .stxt b{display:block;font-weight:900}
    .stxt span{display:block;color:var(--muted);font-size:13.5px;line-height:1.7;margin-top:4px}

    /* KPI (fix text sizing / alignment) */
    .kpi{
      display:grid;
      grid-template-columns:1fr 1fr 1fr;
      gap:10px;
      margin-top:12px;
    }
    @media(max-width:520px){.kpi{grid-template-columns:1fr}}
    .kpi .box{
      border:1px solid var(--line);
      background:#fff;
      border-radius:18px;
      padding:12px;
      box-shadow:var(--shadow2);
      min-height:92px;
      display:flex;
      flex-direction:column;
      justify-content:flex-start;
      gap:6px;
    }
    .kpi .box b{font-weight:900;font-size:13.5px;line-height:1.35}
    .kpi .box div{color:var(--muted);font-size:12.8px;line-height:1.65;margin:0}

    /* SECTIONS */
    .section{margin-top:20px}
    .section h2{font-size:20px;font-weight:900;margin:0 0 10px}

    /* DOWNLOAD */
    .download-grid{
      display:grid;
      grid-template-columns:1.05fr .95fr;
      gap:12px;
      align-items:stretch;
    }
    @media(max-width:900px){.download-grid{grid-template-columns:1fr}}
    .dl-cards{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }
    .badge{
      padding:12px 14px;
      border-radius:16px;
      border:1px solid var(--line);
      background:#fff;
      box-shadow:var(--shadow2);
      font-weight:900;
      font-size:13.5px;
      display:flex;
      align-items:center;
      gap:10px;
      min-width:220px;
    }
    @media(max-width:520px){.badge{min-width:unset;width:100%}}
    .badge small{
      display:block;
      font-weight:800;
      color:var(--muted);
      font-size:12px;
      margin-top:2px;
    }
    .badge .dot{
      width:12px;height:12px;border-radius:999px;
      background:linear-gradient(135deg,var(--primary),var(--primary2));
      box-shadow:0 8px 14px rgba(31,106,255,.22);
      flex:0 0 auto;
    }

    /* WHY */
    .why-grid{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:12px;
    }
    @media(max-width:980px){.why-grid{grid-template-columns:1fr}}

    .media{
      background:#fff;
      border-radius:20px;
      border:1px solid var(--line);
      overflow:hidden;
      box-shadow:var(--shadow);
    }

    /* âœ… Banner sizes fixed: consistent height on desktop + controlled on smaller screens */
    .media .imgwrap{
      width:100%;
      height:210px;              /* desktop height */
      background:
        radial-gradient(560px 240px at 70% 10%, rgba(31,106,255,.18), transparent 60%),
        radial-gradient(520px 240px at 10% 60%, rgba(59,130,246,.12), transparent 58%),
        #0B0F1A;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      border-bottom:1px solid var(--line);
    }
    .media img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    @media(max-width:1200px){.media .imgwrap{height:200px}}
    @media(max-width:1024px){.media .imgwrap{height:190px}}
    @media(max-width:900px){.media .imgwrap{height:180px}}
    @media(max-width:520px){.media .imgwrap{height:150px}}

    .media-caption{
      padding:12px 14px;
      font-size:14px;
      color:var(--muted);
      line-height:1.8;
    }
    .media-caption b{color:var(--text)}

    /* âœ… Support/Tracking banner (graphic) */
    .imgwrap-graphic{
      width:100%;
      height:210px;
      overflow:hidden;
      background:
        radial-gradient(420px 220px at 30% 20%, rgba(31,106,255,.26), transparent 62%),
        radial-gradient(520px 260px at 80% 70%, rgba(59,130,246,.16), transparent 62%),
        linear-gradient(135deg, #0B0F1A 0%, #0F1A33 60%, #0B0F1A 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      border-bottom:1px solid var(--line);
      position:relative;
    }
    .imgwrap-graphic:before{
      content:"";
      position:absolute;
      inset:-40px;
      background:
        radial-gradient(280px 140px at 18% 35%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(260px 160px at 88% 60%, rgba(255,255,255,.08), transparent 60%);
      pointer-events:none;
    }
    .graphic-center{
      position:relative;
      display:flex;
      align-items:center;
      gap:14px;
      padding:14px 16px;
      border-radius:20px;
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(10px);
      box-shadow:0 18px 36px rgba(0,0,0,.18);
    }
    .gicon{
      width:48px;height:48px;border-radius:18px;
      background:linear-gradient(135deg, rgba(31,106,255,.34), rgba(59,130,246,.18));
      border:1px solid rgba(59,130,246,.22);
      display:flex;align-items:center;justify-content:center;
      color:#DCE8FF;
      font-weight:900;
      flex:0 0 auto;
    }
    .gtext b{display:block;color:#fff;font-weight:900}
    .gtext span{display:block;color:rgba(220,232,255,.88);font-size:13px;line-height:1.6;margin-top:4px}

    @media(max-width:1200px){.imgwrap-graphic{height:200px}}
    @media(max-width:1024px){.imgwrap-graphic{height:190px}}
    @media(max-width:900px){.imgwrap-graphic{height:180px}}
    @media(max-width:520px){.imgwrap-graphic{height:150px}}

    /* HOW IT WORKS */
    .timeline{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:10px;
    }
    @media(max-width:980px){.timeline{grid-template-columns:1fr 1fr}}
    @media(max-width:520px){.timeline{grid-template-columns:1fr}}
    .tcard{
      border:1px solid var(--line);
      border-radius:20px;
      background:#fff;
      box-shadow:var(--shadow2);
      padding:14px;
      position:relative;
      overflow:hidden;
      min-height:180px;
    }
    .tcard:before{
      content:"";
      position:absolute;inset:-60px -60px auto auto;
      width:180px;height:180px;border-radius:999px;
      background:rgba(31,106,255,.08);
      transform:rotate(12deg);
    }
    .tnum{
      width:38px;height:38px;border-radius:14px;
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,var(--primary),var(--primary2));
      color:#fff;font-weight:900;
      box-shadow:0 12px 22px rgba(31,106,255,.22);
      position:relative;
    }
    .tcard b{display:block;margin-top:10px;font-weight:900;position:relative}
    .tcard p{margin:6px 0 0;color:var(--muted);font-size:13.5px;line-height:1.8;position:relative}

    /* AUTH + ORDER */
    .grid-2{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
      align-items:start;
    }
    @media(max-width:900px){.grid-2{grid-template-columns:1fr}}

    .form{
      margin-top:10px;
      display:grid;
      grid-template-columns:1fr auto;
      gap:10px;
      align-items:center;
    }
    @media(max-width:520px){.form{grid-template-columns:1fr}}

    .input{
      width:100%;
      padding:12px 14px;
      border-radius:16px;
      border:1px solid var(--line);
      background:#fff;
      box-shadow:var(--shadow2);
      font-family:inherit;
      font-weight:700;
      outline:none;
    }

    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
      margin-top:10px;
    }
    .label{
      font-size:13px;
      font-weight:900;
      color:var(--muted);
    }
    .textarea{
      width:100%;
      min-height:110px;
      padding:12px 14px;
      border-radius:16px;
      border:1px solid var(--line);
      background:#fff;
      box-shadow:var(--shadow2);
      font-family:inherit;
      font-weight:700;
      outline:none;
      resize:vertical;
      line-height:1.9;
    }

    .hint{
      margin-top:10px;
      color:var(--muted);
      font-size:13px;
      line-height:1.7;
      white-space:pre-line;
    }

    .status{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.86);
      font-weight:900;
      font-size:12.8px;
      white-space:nowrap;
    }
    .status.ok{border-color:rgba(16,185,129,.25);background:rgba(16,185,129,.08);color:#0B3A2C}
    .status.err{border-color:rgba(239,68,68,.25);background:rgba(239,68,68,.08);color:#7F1D1D}
    .status.warn{border-color:rgba(245,158,11,.30);background:rgba(245,158,11,.10);color:#78350F}

    .divider{height:1px;background:var(--line);margin:12px 0}

    .orders{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top:10px;
    }
    .order-item{
      background:#fff;
      border:1px solid var(--line);
      border-radius:18px;
      padding:12px;
      box-shadow:var(--shadow2);
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .order-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .order-top b{font-weight:900}
    .muted{color:var(--muted);font-size:13.2px;line-height:1.8}

    .track{
      display:grid;
      grid-template-columns:1fr;
      gap:8px;
      margin-top:4px;
    }
    .track-step{
      display:flex;
      align-items:flex-start;
      gap:10px;
      border:1px solid var(--line);
      background:rgba(246,248,252,.55);
      border-radius:16px;
      padding:10px;
    }
    .track-bullet{
      width:28px;height:28px;border-radius:12px;
      display:flex;align-items:center;justify-content:center;
      font-weight:900;
      border:1px solid var(--line);
      background:#fff;
      flex:0 0 auto;
    }
    .track-step.done .track-bullet{
      background:rgba(16,185,129,.10);
      border-color:rgba(16,185,129,.25);
      color:#0B3A2C;
    }
    .track-step.active .track-bullet{
      background:rgba(31,106,255,.10);
      border-color:rgba(31,106,255,.25);
      color:#0B2A6A;
    }
    .track-step .tt b{display:block;font-weight:900}
    .track-step .tt span{display:block;color:var(--muted);font-size:13px;line-height:1.8;margin-top:3px}

    /* QUICK ISSUE CHIPS */
    .quick-issues{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:8px;
    }
    .qchip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(246,248,252,.72);
      font-weight:900;
      font-size:12.8px;
      cursor:pointer;
      box-shadow:var(--shadow2);
      user-select:none;
    }

    /* SIMPLE CONTENT CARDS */
    .cards-3{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:12px;
    }
    @media(max-width:980px){.cards-3{grid-template-columns:1fr}}
    .citem{
      background:#fff;
      border:1px solid var(--line);
      border-radius:20px;
      box-shadow:var(--shadow);
      padding:14px;
    }
    .citem b{font-weight:900}
    .citem p{margin:8px 0 0;color:var(--muted);line-height:1.9;font-size:14px}

    /* FAQ */
    .faq{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
    }
    details{
      background:#fff;
      border:1px solid var(--line);
      border-radius:18px;
      box-shadow:var(--shadow2);
      padding:12px 14px;
    }
    summary{
      cursor:pointer;
      font-weight:900;
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    summary::-webkit-details-marker{display:none}
    .faq-a{
      margin-top:8px;
      color:var(--muted);
      line-height:1.9;
      font-size:14px;
    }
    .chev{
      width:28px;height:28px;border-radius:12px;
      display:flex;align-items:center;justify-content:center;
      background:rgba(31,106,255,.10);
      border:1px solid rgba(31,106,255,.18);
      color:#0B2A6A;
      flex:0 0 auto;
      font-weight:900;
    }

    /* FLOATING CTA */
    .floating{
      position:fixed;
      left:16px;
      right:16px;
      bottom:14px;
      z-index:60;
      display:flex;
      justify-content:center;
      pointer-events:none;
    }
    .floating-inner{
      width:min(var(--max), 980px);
      pointer-events:auto;
      background:rgba(255,255,255,.86);
      border:1px solid var(--line);
      border-radius:999px;
      box-shadow:var(--shadow);
      padding:10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      backdrop-filter: blur(12px);
    }
    .floating-inner .txt{
      display:flex;flex-direction:column;gap:2px;
      min-width:0;
    }
    .floating-inner .txt b{font-weight:900;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .floating-inner .txt span{color:var(--muted);font-size:12.8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .floating-inner .actions{display:flex;gap:8px;flex:0 0 auto;flex-wrap:wrap;justify-content:flex-end}

    /* FOOTER */
    .footer{
      margin-top:26px;
      padding-top:14px;
      border-top:1px solid var(--line);
      font-size:13px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    /* ENAMAD */
    .enamad{
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .enamad img{
      width:110px;
      height:auto;
    }

    /* =========================
       MOBILE FIXES
       ========================= */
    @media (max-width: 520px){
      /* space for floating bar (prevents overlap) */
      .container{ padding-bottom: 170px; }

      /* topbar: more compact on mobile */
      .topbar-inner{
        border-radius:22px;
        padding:10px 10px;
      }
      .brand img{width:52px}
      .brand-title{font-size:14px}
      .nav{gap:8px}

      /* hero: reduce spacing + keep CTA readable */
      .card{padding:14px}
      h1{font-size:32px}
      .sub{font-size:14.5px;line-height:1.9}
      .cta{gap:8px}
      .btn{padding:10px 14px;border-radius:14px}

      /* floating bar: turn into 2-row compact bar */
      .floating{ left:12px; right:12px; bottom:10px; }
      .floating-inner{
        border-radius:18px;
        padding:10px;
        flex-wrap:wrap;
        gap:8px;
        justify-content:center;
      }
      .floating-inner .txt{
        width:100%;
        align-items:center;
        text-align:center;
      }
      .floating-inner .txt b,
      .floating-inner .txt span{
        white-space:normal;
        overflow:visible;
        text-overflow:unset;
      }
      .floating-inner .actions{
        width:100%;
        justify-content:center;
      }
      .floating-inner .actions .btn{
        flex:1 1 auto;
        min-width:0;
      }
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- HEADER -->
    <div class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <img src="assets/logo.png" alt="Mobix">
          <div class="brand-title">Mobix | Ù…ÙˆØ¨ÛŒÚ©Ø³</div>
        </div>

        <div class="nav">
          <a class="chip" href="#why">Ú†Ø±Ø§ Ù…ÙˆØ¨ÛŒÚ©Ø³ØŸ</a>
          <a class="btn primary" href="#order" id="navAuthBtn">Ø«Ø¨Øª Ù†Ø§Ù… / ÙˆØ±ÙˆØ¯</a>
        </div>
      </div>
    </div>

    <!-- HERO -->
    <section class="hero" id="top">
      <div class="card">
        <h1>Ø¨Ø§ Ø®ÛŒØ§Ù„ Ø±Ø§Ø­Øª Ø¨Ø³Ù¾Ø§Ø±ÛŒØ¯</h1>
        <p class="sub">
          ÛŒÚ© ÙØ±Ø§ÛŒÙ†Ø¯ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø¨Ø§ ØªÛŒÙ… Ù…ÙˆØ¨ÛŒÚ©Ø³: <b>Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª</b>ØŒ <b>Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù¾ÛŒÚ©</b>ØŒ <b>Ø§Ø¹Ù„Ø§Ù… Ù‡Ø²ÛŒÙ†Ù‡</b> Ùˆ <b>ØªØ¹Ù…ÛŒØ± Ùˆ ØªØ­ÙˆÛŒÙ„</b>.
        </p>

        <div class="cta">
          <a class="btn primary" href="#order" id="heroPrimaryCta">Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª / Ù¾ÛŒÚ¯ÛŒØ±ÛŒ</a>
          <a class="btn ghost" href="#download">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ù¾</a>
          <a class="btn ghost" href="#why">Ú†Ø±Ø§ Ù…ÙˆØ¨ÛŒÚ©Ø³ØŸ</a>
        </div>

        <div class="mini-grid">
          <div class="mini">
            <div class="t">Ø´ÙØ§Ù Ùˆ Ù‚Ø§Ø¨Ù„ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ</div>
            <div class="d">Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ Ù…Ø´Ø®ØµÙ‡Ø› Ø§Ø² Ø«Ø¨Øª ØªØ§ ØªØ­ÙˆÛŒÙ„.</div>
          </div>
          <div class="mini">
            <div class="t">Ù‚ÛŒÙ…Øª Ù‚Ø¨Ù„ Ø§Ø² Ø§Ù‚Ø¯Ø§Ù…</div>
            <div class="d">Ù‚Ø¨Ù„ Ø§Ø² Ù‡Ø± Ú©Ø§Ø±ÛŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§ Ø´Ù…Ø§ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒØ´Ù‡.</div>
          </div>
        </div>

        <!-- HERO IMAGE (Ø¨Ø¯ÙˆÙ† Ù…ØªÙ†) -->
        <div class="hero-art">
          <img src="assets/hero-final.jpg" alt="Mobix Hero">
        </div>
      </div>

      <!-- PREVIEW CARD -->
      <div class="card">
        <div class="preview-card">
          <h2 style="margin:0;font-weight:900">Ù†Ù…Ø§ÛŒÛŒ Ø§Ø² Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</h2>

          <div class="mini-kpis">
            <div class="mk">
              <b>Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</b>
              <span>Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ Ù…Ø´Ø®ØµÙ‡ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø´ÙØ§ÙÙ‡.</span>
            </div>
            <div class="mk">
              <b>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¯Ø§Ø®Ù„ Ø§Ù¾</b>
              <span>Ù‡Ø± Ø³Ø¤Ø§Ù„/Ø§Ø¨Ù‡Ø§Ù… Ø¯Ø§Ø´ØªÛŒ Ø³Ø±ÛŒØ¹ Ù…ÛŒâ€ŒÙ¾Ø±Ø³ÛŒ.</span>
            </div>
          </div>

          <div class="app-wrap">
            <!-- tracking sample (NOT Ù…Ø±Ø§Ø­Ù„ Ú©Ø§Ø±) -->
            <div class="mock">
              <div class="mock-top">
                <b>Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´</b>
                <span class="pill">Ø¢Ù†Ù„Ø§ÛŒÙ†</span>
              </div>
              <div class="mock-body">
                <div class="mini-track">
                  <div class="mini-track-top">
                    <b>Ø³ÙØ§Ø±Ø´ #1284</b>
                    <span class="badge-status"><span class="dot"></span>Ø¯Ø± Ø­Ø§Ù„ ØªØ¹Ù…ÛŒØ±</span>
                  </div>
                  <div class="progress" aria-label="progress">
                    <i></i>
                  </div>
                  <div class="mini-steps" aria-label="steps">
                    <div class="st done">Ø«Ø¨Øª</div>
                    <div class="st done">Ù¾ÛŒÚ©</div>
                    <div class="st active">ØªØ¹Ù…ÛŒØ±</div>
                    <div class="st">ØªØ­ÙˆÛŒÙ„</div>
                  </div>
                </div>

                <div class="divider"></div>

                <div class="step">
                  <div class="sicon">ğŸ§¾</div>
                  <div class="stxt">
                    <b>Ú¯Ø²Ø§Ø±Ø´ Ø´ÙØ§Ù</b>
                    <span>Ù‚Ø·Ø¹Ù‡â€ŒÙ‡Ø§ Ùˆ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù…â€ŒØ´Ø¯Ù‡ Ù…Ø´Ø®Øµ Ø§Ø³Øª.</span>
                  </div>
                </div>
                <div class="step">
                  <div class="sicon">ğŸ’³</div>
                  <div class="stxt">
                    <b>Ù‚ÛŒÙ…Øª Ù‚Ø¨Ù„ Ø§Ø² Ø§Ù‚Ø¯Ø§Ù…</b>
                    <span>Ø¨Ø¯ÙˆÙ† ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§ Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- chat/support -->
            <div class="mock">
              <div class="mock-top">
                <b>Ú†Øª Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</b>
                <span class="pill">Ù¾Ø§Ø³Ø® Ø³Ø±ÛŒØ¹</span>
              </div>
              <div class="mock-body">
                <div class="step">
                  <div class="sicon">ğŸ’¬</div>
                  <div class="stxt">
                    <b>Ú†Øª Ø¯Ø§Ø®Ù„ Ø§Ù¾</b>
                    <span>Ù‡Ù…ÛŒÙ†Ø¬Ø§ Ø³ÙˆØ§Ù„ Ù…ÛŒâ€ŒÙ¾Ø±Ø³ÛŒ Ùˆ Ø¬ÙˆØ§Ø¨ Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ.</span>
                  </div>
                </div>
                <div class="step">
                  <div class="sicon">ğŸ“</div>
                  <div class="stxt">
                    <b>Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù¾ÛŒÚ©</b>
                    <span>Ø²Ù…Ø§Ù† Ø¯Ø±ÛŒØ§ÙØª/ØªØ­ÙˆÛŒÙ„ Ø³Ø±ÛŒØ¹ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</span>
                  </div>
                </div>
                <div class="step">
                  <div class="sicon">ğŸ›¡ï¸</div>
                  <div class="stxt">
                    <b>Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</b>
                    <span>ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´ Ù‡Ù…ÛŒØ´Ù‡ Ø¬Ù„ÙˆÛŒ Ú†Ø´Ù… Ø´Ù…Ø§Ø³Øª.</span>
                  </div>
                </div>

                <div class="kpi">
                  <div class="box">
                    <b>Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</b>
                    <div>Ø§Ø² Ø«Ø¨Øª ØªØ§ ØªØ­ÙˆÛŒÙ„.</div>
                  </div>
                  <div class="box">
                    <b>Ù‚ÛŒÙ…Øª Ù‚Ø¨Ù„ Ø§Ø² Ú©Ø§Ø±</b>
                    <div>Ø¨Ø§ ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§.</div>
                  </div>
                  <div class="box">
                    <b>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</b>
                    <div>Ø¯Ø§Ø®Ù„ Ø§Ù¾.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="divider"></div>
          <div id="sessionBadge" class="status warn">ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯</div>
        </div>
      </div>
    </section>

    <!-- DOWNLOAD APPS -->
    <section class="section" id="download">
      <div class="card">
        <h2 style="margin:0 0 8px;font-weight:900">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ù¾ Ù…ÙˆØ¨ÛŒÚ©Ø³</h2>
        <p class="sub">Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø±Ø§Ø­Øªâ€ŒØªØ±ØŒ Ø³ÙØ§Ø±Ø´ Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¯Ø§Ø®Ù„ Ø§Ù¾ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>

        <div class="download-grid" style="margin-top:10px">
          <div class="card" style="padding:16px;box-shadow:var(--shadow2)">
            <b style="font-weight:900">Android</b>
            <div class="dl-cards">
              <!-- Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ Ù„ÛŒÙ†Ú© ÙˆØ§Ù‚Ø¹ÛŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù† -->
              <a class="badge" href="#" target="_blank" rel="noopener">
                <span class="dot"></span>
                Ú©Ø§ÙÙ‡â€ŒØ¨Ø§Ø²Ø§Ø±
                <small>Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø² Ø¨Ø§Ø²Ø§Ø±</small>
              </a>
              <a class="badge" href="#" target="_blank" rel="noopener">
                <span class="dot"></span>
                Ù…Ø§ÛŒÚ©Øª
                <small>Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø² Ù…Ø§ÛŒÚ©Øª</small>
              </a>
              <a class="badge" href="#" target="_blank" rel="noopener">
                <span class="dot"></span>
                Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…Ø³ØªÙ‚ÛŒÙ…
                <small>APK</small>
              </a>
            </div>
          </div>

          <div class="card" style="padding:16px;box-shadow:var(--shadow2)">
            <b style="font-weight:900">iOS</b>
            <div class="dl-cards">
              <a class="badge" href="#" target="_blank" rel="noopener">
                <span class="dot"></span>
                Ù†Ø³Ø®Ù‡ ÙˆØ¨
                <small>Ø¨Ø±Ø§ÛŒ iOS</small>
              </a>
            </div>
            <div class="hint">Ø§Ú¯Ø± Ù„ÛŒÙ†Ú© iOS Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯ Ù‡Ù…ÛŒÙ†Ø¬Ø§ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….</div>
          </div>
        </div>
      </div>
    </section>

    <!-- WHY -->
    <section class="section" id="why">
      <h2>Ú†Ø±Ø§ Ù…ÙˆØ¨ÛŒÚ©Ø³ØŸ</h2>
      <div class="why-grid">
        <div class="media">
          <div class="imgwrap">
            <img src="assets/pricing.png" alt="Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù‚ÛŒÙ…Øª">
          </div>
          <div class="media-caption">
            <b>Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù‚ÛŒÙ…Øª Ù‚Ø¨Ù„ Ø§Ø² ØªØ¹Ù…ÛŒØ±</b><br>
            Ù‚Ø¨Ù„ Ø§Ø² Ù‡Ø± Ø§Ù‚Ø¯Ø§Ù…ÛŒØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§ Ø´Ù…Ø§ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
          </div>
        </div>

        <div class="media">
          <div class="imgwrap">
            <img src="assets/courier.png" alt="Ù¾ÛŒÚ© Ù…ÙˆØ¨ÛŒÚ©Ø³">
          </div>
          <div class="media-caption">
            <b>Ù¾ÛŒÚ© Ø§Ø®ØªØµØ§ØµÛŒ Ù…ÙˆØ¨ÛŒÚ©Ø³</b><br>
            Ø¯Ø±ÛŒØ§ÙØª Ùˆ ØªØ­ÙˆÛŒÙ„ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø¨Ø¯ÙˆÙ† Ø¯Ø±Ø¯Ø³Ø±.
          </div>
        </div>

        <!-- âœ… Banner: Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ -->
        <div class="media">
          <div class="imgwrap-graphic" aria-label="Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ">
            <div class="graphic-center">
              <div class="gicon">ğŸ§­</div>
              <div class="gtext">
                <b>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</b>
                <span>Ø´ÙØ§ÙØŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ¨Ù‡â€ŒÙ…Ø±Ø­Ù„Ù‡ Ùˆ Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ø± Ø¯Ø³ØªØ±Ø³</span>
              </div>
            </div>
          </div>
          <div class="media-caption">
            <b>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</b><br>
            ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´ Ùˆ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒâ€ŒÙ‡Ø§ Ø´ÙØ§Ù Ùˆ Ù…Ø±Ø­Ù„Ù‡â€ŒØ¨Ù‡â€ŒÙ…Ø±Ø­Ù„Ù‡.
          </div>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="section" id="how">
      <h2>Ù…Ø±Ø§Ø­Ù„ Ú©Ø§Ø±</h2>
      <div class="timeline">
        <div class="tcard">
          <div class="tnum">1</div>
          <b>Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª</b>
          <p>Ù…Ø¯Ù„ Ú¯ÙˆØ´ÛŒ Ùˆ Ù…Ø´Ú©Ù„ Ø±Ùˆ Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒ ØªØ§ Ø³Ø±ÛŒØ¹ Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø´Ù‡.</p>
        </div>
        <div class="tcard">
          <div class="tnum">2</div>
          <b>Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù¾ÛŒÚ©</b>
          <p>Ø²Ù…Ø§Ù† Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø±Ùˆ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ùˆ Ù¾ÛŒÚ© Ù…ÛŒØ§Ø¯.</p>
        </div>
        <div class="tcard">
          <div class="tnum">3</div>
          <b>Ø§Ø¹Ù„Ø§Ù… Ù‡Ø²ÛŒÙ†Ù‡</b>
          <p>Ø¨Ø¹Ø¯ Ø§Ø² Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ù‚ÛŒÙ‚ Ø§Ø¹Ù„Ø§Ù… Ù…ÛŒâ€ŒØ´Ù‡ (Ø¨Ø§ ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§).</p>
        </div>
        <div class="tcard">
          <div class="tnum">4</div>
          <b>ØªØ¹Ù…ÛŒØ± Ùˆ ØªØ­ÙˆÛŒÙ„</b>
          <p>ØªØ¹Ù…ÛŒØ± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´Ù‡ Ùˆ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø¨Ø§ Ù¾ÛŒÚ© Ø¨Ù‡ Ø´Ù…Ø§ ØªØ­ÙˆÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´Ù‡.</p>
        </div>
      </div>
    </section>

    <!-- SERVICES -->
    <section class="section" id="services">
      <div class="card">
        <h2 style="margin:0 0 10px;font-weight:900">Ú†Ù‡ ØªØ¹Ù…ÛŒØ±Ø§ØªÛŒ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…ØŸ</h2>
        <div class="cards-3">
          <div class="citem">
            <b>Ù†Ù…Ø§ÛŒØ´Ú¯Ø± Ùˆ ØªØ§Ú†</b>
            <p>ØªØ¹ÙˆÛŒØ¶ LCD/ØªØ§Ú†ØŒ ÙÙ„Øªâ€ŒÙ‡Ø§ØŒ Ù…Ø´Ú©Ù„Ø§Øª ØªØµÙˆÛŒØ±ØŒ Ø®Ø·ÙˆØ· Ùˆ Ù„Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´Ú¯Ø±.</p>
          </div>
          <div class="citem">
            <b>Ø¨Ø§ØªØ±ÛŒ Ùˆ Ø´Ø§Ø±Ú˜</b>
            <p>ØªØ¹ÙˆÛŒØ¶ Ø¨Ø§ØªØ±ÛŒØŒ Ø±ÙØ¹ Ù…Ø´Ú©Ù„ Ø´Ø§Ø±Ú˜ØŒ Ø³ÙˆÚ©Øª Ø´Ø§Ø±Ú˜ØŒ Ù†ÙˆØ³Ø§Ù† Ø´Ø§Ø±Ú˜ Ùˆ Ø¯Ø§ØºÛŒ.</p>
          </div>
          <div class="citem">
            <b>Ø¨Ø±Ø¯ Ùˆ Ø¢Ø¨â€ŒØ®ÙˆØ±Ø¯Ú¯ÛŒ</b>
            <p>Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ ØªØ®ØµØµÛŒ Ø¨Ø±Ø¯ØŒ Ø±ÙØ¹ Ø®Ø§Ù…ÙˆØ´ÛŒØŒ Ø¢Ø¨â€ŒØ®ÙˆØ±Ø¯Ú¯ÛŒ Ùˆ Ù…Ø´Ú©Ù„Ø§Øª Ù¾ÛŒÚ†ÛŒØ¯Ù‡.</p>
          </div>
        </div>
        <div class="hint" style="margin-top:10px">
          Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ Ø®Ø§ØµÛŒ Ø¯Ø§Ø±ÛŒØ¯ Ù‡Ù… Ø«Ø¨Øª Ú©Ù†ÛŒØ¯Ø› Ø¨Ø¹Ø¯ Ø§Ø² Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ù‚ÛŒÙ‚ØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ù‚Ø¯Ø§Ù… Ø¨Ø§ Ø´Ù…Ø§ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
        </div>
      </div>
    </section>

    <!-- AUTH + ORDER + TRACK -->
    <section class="section" id="order">
      <div class="card">
        <h2 style="margin:0 0 8px;font-weight:900">Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´</h2>
        <p class="sub">ÙØ±Ù… Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯Ø› Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒØŒ Ø¨Ø§ Ú©Ø¯ Ù¾ÛŒØ§Ù…Ú©ÛŒ ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯.</p>

        <div class="grid-2">

          <!-- AUTH CARD (after login hidden) -->
          <div class="card" id="authCard" style="padding:16px;box-shadow:var(--shadow2)">
            <h2 style="margin:0 0 8px;font-weight:900;font-size:18px">ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ú©Ø¯ Ù¾ÛŒØ§Ù…Ú©ÛŒ</h2>
            <p class="sub" style="font-size:14.5px">Ú©Ø¯ ÛŒÚ©Ø¨Ø§Ø± Ù…ØµØ±Ù Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>

            <div class="field">
              <div class="label">Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„</div>
              <input id="authPhone" class="input" inputmode="numeric" placeholder="Ù…Ø«Ù„Ø§ 0912xxxxxxx" />
            </div>

            <div class="form">
              <button id="sendOtpBtn" class="btn primary" type="button">Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯</button>
              <button id="logoutBtn" class="btn danger" type="button" style="display:none">Ø®Ø±ÙˆØ¬</button>
            </div>

            <div id="otpBox" style="display:none">
              <div class="field">
                <div class="label">Ú©Ø¯ Ù¾ÛŒØ§Ù…Ú©ÛŒ</div>
                <input id="authCode" class="input" inputmode="numeric" placeholder="Ú©Ø¯ Û¶ Ø±Ù‚Ù…ÛŒ" />
              </div>

              <div class="field" style="margin-top:8px">
                <div id="timerPill" class="status warn">02:00</div>
              </div>

              <div class="form">
                <button id="verifyOtpBtn" class="btn primary" type="button">ØªØ§ÛŒÛŒØ¯ Ùˆ ÙˆØ±ÙˆØ¯</button>
                <button id="resendBtn" class="btn ghost" type="button" disabled>Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯</button>
              </div>
            </div>

            <div id="authMsg" class="hint" aria-live="polite"></div>
          </div>

          <!-- ORDER CARD -->
          <div class="card" style="padding:16px;box-shadow:var(--shadow2)">
            <div class="order-top">
              <h2 style="margin:0;font-weight:900;font-size:18px">Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</h2>
              <span id="orderGate" class="status warn">Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒ Ø¨Ø§ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</span>
            </div>

            <!-- When logged in show a small logout area here -->
            <div id="loggedInBar" style="display:none;margin-top:10px">
              <div class="order-top" style="align-items:center">
                <span class="status ok" id="loggedInText">ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯ âœ…</span>
                <button id="logoutBtn2" class="btn danger" type="button">Ø®Ø±ÙˆØ¬</button>
              </div>
            </div>

            <!-- ÙØ±Ù… Ù‡Ù…ÛŒØ´Ù‡ Ù‚Ø§Ø¨Ù„ Ù¾Ø± Ú©Ø±Ø¯Ù† -->
            <div id="orderFormWrap">
              <div class="field">
                <div class="label">Ù…Ø¯Ù„ Ú¯ÙˆØ´ÛŒ</div>
                <input id="deviceModel" class="input" placeholder="Ù…Ø«Ù„Ø§ iPhone 13 / Galaxy A52" />
              </div>

              <div class="field">
                <div class="label">Ù…Ø´Ú©Ù„ Ø¯Ø³ØªÚ¯Ø§Ù‡</div>
                <textarea id="problemDesc" class="textarea" placeholder="Ù…Ø«Ù„Ø§ Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯Ù‡ / Ø´Ú©Ø³ØªÚ¯ÛŒ Ø§Ù„â€ŒØ³ÛŒâ€ŒØ¯ÛŒ / Ù…Ø´Ú©Ù„ Ø´Ø§Ø±Ú˜ ..."></textarea>
                <div class="quick-issues" aria-label="Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬">
                  <div class="qchip" data-issue="Ø´Ú©Ø³ØªÚ¯ÛŒ/Ø®Ø· Ø±ÙˆÛŒ Ø§Ù„â€ŒØ³ÛŒâ€ŒØ¯ÛŒ">Ø´Ú©Ø³ØªÚ¯ÛŒ LCD</div>
                  <div class="qchip" data-issue="Ù…Ø´Ú©Ù„ Ø´Ø§Ø±Ú˜/Ø³ÙˆÚ©Øª Ø´Ø§Ø±Ú˜">Ù…Ø´Ú©Ù„ Ø´Ø§Ø±Ú˜</div>
                  <div class="qchip" data-issue="Ø¨Ø§ØªØ±ÛŒ Ø¶Ø¹ÛŒÙ/Ø²ÙˆØ¯ Ø®Ø§Ù„ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯">Ø¨Ø§ØªØ±ÛŒ</div>
                  <div class="qchip" data-issue="Ø¢Ø¨â€ŒØ®ÙˆØ±Ø¯Ú¯ÛŒ">Ø¢Ø¨â€ŒØ®ÙˆØ±Ø¯Ú¯ÛŒ</div>
                  <div class="qchip" data-issue="Ø®Ø§Ù…ÙˆØ´ÛŒ/Ø±ÛŒØ³Øª Ø´Ø¯Ù†">Ø®Ø§Ù…ÙˆØ´ÛŒ/Ø±ÛŒØ³Øª</div>
                  <div class="qchip" data-issue="Ù…Ø´Ú©Ù„ ØµØ¯Ø§/Ù…ÛŒÚ©Ø±ÙˆÙÙ†">ØµØ¯Ø§/Ù…ÛŒÚ©Ø±ÙˆÙÙ†</div>
                </div>
              </div>

              <div class="field">
                <div class="label">Ø¢Ø¯Ø±Ø³ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø§ Ù¾ÛŒÚ©</div>
                <textarea id="address" class="textarea" placeholder="Ø¢Ø¯Ø±Ø³ Ø¯Ù‚ÛŒÙ‚ + Ù¾Ù„Ø§Ú© + ÙˆØ§Ø­Ø¯"></textarea>
              </div>

              <div class="field">
                <div class="label">Ø²Ù…Ø§Ù† Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª</div>
                <input id="pickupTime" class="input" placeholder="Ù…Ø«Ù„Ø§ Ø§Ù…Ø±ÙˆØ² Û±Û¸ ØªØ§ Û²Û° / ÙØ±Ø¯Ø§ ØµØ¨Ø­" />
              </div>

              <div class="form">
                <button id="createOrderBtn" class="btn primary" type="button">Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
                <button id="refreshOrdersBtn" class="btn ghost" type="button">Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ</button>
              </div>

              <div id="orderMsg" class="hint" aria-live="polite"></div>
            </div>

            <div class="divider"></div>

            <div class="order-top">
              <h2 style="margin:0;font-weight:900;font-size:18px">Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†</h2>
              <span id="ordersCount" class="status">0</span>
            </div>

            <div id="ordersWrap" class="orders">
              <div class="muted">Ø¨Ø¹Ø¯ Ø§Ø² ÙˆØ±ÙˆØ¯ØŒ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="section" id="faq">
      <div class="card">
        <h2 style="margin:0 0 10px;font-weight:900">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</h2>

        <div class="faq">
          <details>
            <summary>
              Ù‡Ø²ÛŒÙ†Ù‡ ØªØ¹Ù…ÛŒØ± Ú†Ø·ÙˆØ± Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ
              <span class="chev">+</span>
            </summary>
            <div class="faq-a">Ø¨Ø¹Ø¯ Ø§Ø² Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ù‚ÛŒÙ‚ Ø§Ø¹Ù„Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¨Ø¯ÙˆÙ† ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§ Ø§Ù‚Ø¯Ø§Ù…ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>
          </details>

          <details>
            <summary>
              Ø¯Ø±ÛŒØ§ÙØª Ùˆ ØªØ­ÙˆÛŒÙ„ Ø¨Ø§ Ù¾ÛŒÚ© Ú†Ø·ÙˆØ± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ
              <span class="chev">+</span>
            </summary>
            <div class="faq-a">Ù¾Ø³ Ø§Ø² Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ØŒ Ø²Ù…Ø§Ù† Ø¯Ø±ÛŒØ§ÙØª Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù¾ÛŒÚ© Ù…ÙˆØ¨ÛŒÚ©Ø³ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ùˆ Ø¨Ø¹Ø¯ Ø§Ø² ØªØ¹Ù…ÛŒØ± ØªØ­ÙˆÛŒÙ„ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</div>
          </details>

          <details>
            <summary>
              Ú†Ù‚Ø¯Ø± Ø·ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ø´Ø¯ ØªØ§ ØªØ¹Ù…ÛŒØ± Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯ØŸ
              <span class="chev">+</span>
            </summary>
            <div class="faq-a">Ø¨Ø³ØªÙ‡ Ø¨Ù‡ Ù†ÙˆØ¹ Ù…Ø´Ú©Ù„ Ù…ØªÙØ§ÙˆØª Ø§Ø³Øª. Ø±ÙˆÙ†Ø¯ Ø³ÙØ§Ø±Ø´ Ù…Ø±Ø­Ù„Ù‡â€ŒØ¨Ù‡â€ŒÙ…Ø±Ø­Ù„Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¯Ø± Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ Ø´Ù…Ø§ Ø¯Ø± Ø¬Ø±ÛŒØ§Ù† Ù‡Ø³ØªÛŒØ¯.</div>
          </details>

          <details>
            <summary>
              Ø§Ú¯Ø± Ú©Ø¯ Ù¾ÛŒØ§Ù…Ú©ÛŒ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù†Ú©Ø±Ø¯Ù… Ú†Ù‡ Ú©Ù†Ù…ØŸ
              <span class="chev">+</span>
            </summary>
            <div class="faq-a">Ù¾Ø³ Ø§Ø² Ù¾Ø§ÛŒØ§Ù† ØªØ§ÛŒÙ…Ø± Û² Ø¯Ù‚ÛŒÙ‚Ù‡â€ŒØ§ÛŒØŒ Ø§Ù…Ú©Ø§Ù† Â«Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯Â» ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>
          </details>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <div class="footer">
      <span>Â© Mobix</span>

      <div class="enamad">
        <a referrerpolicy="origin" target="_blank" href="https://trustseal.enamad.ir/?id=695372&Code=DiznrIm0BJGpnPrtdWijxsgtOlPs8Aqf">
          <img referrerpolicy="origin" src="https://trustseal.enamad.ir/logo.aspx?id=695372&Code=DiznrIm0BJGpnPrtdWijxsgtOlPs8Aqf" alt="Ø§ÛŒÙ†Ù…Ø§Ø¯" style="cursor:pointer" code="DiznrIm0BJGpnPrtdWijxsgtOlPs8Aqf">
        </a>
      </div>

      <span></span>
    </div>

  </div>

  <!-- Floating CTA -->
  <div class="floating" role="navigation" aria-label="CTA">
    <div class="floating-inner">
      <div class="txt">
        <b>Ù…ÙˆØ¨ÛŒÚ©Ø³ â€” ØªØ¹Ù…ÛŒØ± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³ Ú©Ø§Ù…Ù„</b>
        <span>Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³ØªØŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù¾ÛŒÚ©ØŒ Ø§Ø¹Ù„Ø§Ù… Ù‡Ø²ÛŒÙ†Ù‡ØŒ ØªØ¹Ù…ÛŒØ± Ùˆ ØªØ­ÙˆÛŒÙ„</span>
      </div>
      <div class="actions">
        <a class="btn ghost" href="#why">Ú†Ø±Ø§ Ù…ÙˆØ¨ÛŒÚ©Ø³ØŸ</a>
        <a class="btn ghost" href="#download">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ù¾</a>
        <a class="btn primary" href="#order" id="floatingAuthBtn">Ø«Ø¨Øª Ù†Ø§Ù… / ÙˆØ±ÙˆØ¯</a>
      </div>
    </div>
  </div>

  <!-- Supabase JS (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    (function(){
      // =========================
      // Supabase Config
      // =========================
      const SUPABASE_URL = "https://vrxfhfknmxmeatnfzpcg.supabase.co";
      const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZyeGZoZmtubXhtZWF0bmZ6cGNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyNTg2MjksImV4cCI6MjA4MTgzNDYyOX0.iANOG9-g9GnVl58KDYI0A-oYNwfbL3oh2NBddZ2sLLs";

      // Edge Functions (sms.ir)
      const OTP_REQUEST_URL = "https://vrxfhfknmxmeatnfzpcg.supabase.co/functions/v1/request-otp";
      const OTP_VERIFY_URL  = "https://vrxfhfknmxmeatnfzpcg.supabase.co/functions/v1/verify-otp";

      const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

      // =========================
      // Helpers
      // =========================
      function normalizeDigits(s){
        return (s || "")
          .replace(/[Û°-Û¹]/g, d => "Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹".indexOf(d))
          .replace(/[^\d]/g, "");
      }
      function isValidIranMobile(d){
        if(!d) return false;
        if(d.length === 11 && d.startsWith("09")) return true;
        if(d.length === 10 && d.startsWith("9")) return true;
        return false;
      }
      function to09(d){
        if(!d) return null;
        if(d.length === 11 && d.startsWith("09")) return d;
        if(d.length === 10 && d.startsWith("9")) return "0" + d;
        return null;
      }
      function fmtDate(iso){
        try{
          const dt = new Date(iso);
          if(isNaN(dt.getTime())) return iso || "";
          return dt.toLocaleString("fa-IR", { year:"numeric", month:"2-digit", day:"2-digit", hour:"2-digit", minute:"2-digit" });
        }catch(e){ return iso || ""; }
      }
      function esc(s){
        return (s ?? "").toString()
          .replaceAll("&","&amp;")
          .replaceAll("<","&lt;")
          .replaceAll(">","&gt;")
          .replaceAll('"',"&quot;")
          .replaceAll("'","&#039;");
      }
      async function safeJson(res){
        try{ return await res.json(); }catch(e){ return null; }
      }
      function extractErrorMessage(obj){
        if(!obj) return null;
        if(typeof obj === "string") return obj;
        return obj.message || obj.error || (obj.errors && obj.errors[0] && (obj.errors[0].message || obj.errors[0])) || null;
      }

      // =========================
      // UI Elements
      // =========================
      const sessionBadge = document.getElementById("sessionBadge");

      const authCard = document.getElementById("authCard");
      const authPhone = document.getElementById("authPhone");
      const authCode = document.getElementById("authCode");
      const sendOtpBtn = document.getElementById("sendOtpBtn");
      const verifyOtpBtn = document.getElementById("verifyOtpBtn");
      const logoutBtn = document.getElementById("logoutBtn");
      const logoutBtn2 = document.getElementById("logoutBtn2");
      const loggedInBar = document.getElementById("loggedInBar");
      const loggedInText = document.getElementById("loggedInText");

      const resendBtn = document.getElementById("resendBtn");
      const otpBox = document.getElementById("otpBox");
      const authMsg = document.getElementById("authMsg");
      const timerPill = document.getElementById("timerPill");

      const navAuthBtn = document.getElementById("navAuthBtn");
      const floatingAuthBtn = document.getElementById("floatingAuthBtn");
      const heroPrimaryCta = document.getElementById("heroPrimaryCta");

      const orderGate = document.getElementById("orderGate");
      const deviceModel = document.getElementById("deviceModel");
      const problemDesc = document.getElementById("problemDesc");
      const address = document.getElementById("address");
      const pickupTime = document.getElementById("pickupTime");
      const createOrderBtn = document.getElementById("createOrderBtn");
      const refreshOrdersBtn = document.getElementById("refreshOrdersBtn");
      const orderMsg = document.getElementById("orderMsg");

      const ordersWrap = document.getElementById("ordersWrap");
      const ordersCount = document.getElementById("ordersCount");

      // =========================
      // State
      // =========================
      const LS_KEY = "mobix_site_login";
      const DRAFT_KEY = "mobix_site_order_draft";
      let loginState = null; // { phone09: "09..." }

      let lastPhone09 = null;
      let timerId = null;
      let remaining = 0;

      // =========================
      // UI helpers
      // =========================
      function setStatus(el, type, text){
        el.classList.remove("ok","err","warn");
        if(type) el.classList.add(type);
        el.textContent = text;
      }
      function setMsg(el, type, text){
        if(!text){
          el.textContent = "";
          el.style.color = "var(--muted)";
          return;
        }
        if(type === "ok") el.style.color = "var(--success)";
        else if(type === "err") el.style.color = "var(--danger)";
        else if(type === "warn") el.style.color = "var(--warn)";
        else el.style.color = "var(--muted)";
        el.textContent = text;
      }
      function showOtpBox(show){
        otpBox.style.display = show ? "" : "none";
      }
      function loggedIn(){
        return !!(loginState && loginState.phone09);
      }

      function updateCtasText(){
        const li = loggedIn();
        const txt = li ? "Ø«Ø¨Øª/Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´" : "Ø«Ø¨Øª Ù†Ø§Ù… / ÙˆØ±ÙˆØ¯";
        if(navAuthBtn) navAuthBtn.textContent = txt;
        if(floatingAuthBtn) floatingAuthBtn.textContent = txt;
        if(heroPrimaryCta) heroPrimaryCta.textContent = li ? "Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†" : "Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª / Ù¾ÛŒÚ¯ÛŒØ±ÛŒ";
      }

      function applyLoginUI(){
        const li = loggedIn();

        if(li){
          setStatus(sessionBadge, "ok", "ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯ âœ…");
          if(authCard) authCard.style.display = "none";        // âœ… Ø¨Ø¹Ø¯ Ø§Ø² ÙˆØ±ÙˆØ¯ØŒ Ø¨Ø®Ø´ ÙˆØ±ÙˆØ¯ Ø¯ÛŒØ¯Ù‡ Ù†Ø´ÙˆØ¯
          if(loggedInBar) loggedInBar.style.display = "";
          if(loggedInText) loggedInText.textContent = "ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯ âœ… (" + loginState.phone09 + ")";
          if(logoutBtn) logoutBtn.style.display = "none";      // Ø¯Ø§Ø®Ù„ authCard Ù¾Ù†Ù‡Ø§Ù† Ø§Ø³Øª
          setStatus(orderGate, "ok", "Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯");
        }else{
          setStatus(sessionBadge, "warn", "ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯");
          if(authCard) authCard.style.display = "";
          if(loggedInBar) loggedInBar.style.display = "none";
          if(logoutBtn) logoutBtn.style.display = "none";
          setStatus(orderGate, "warn", "Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒ Ø¨Ø§ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯");
          ordersWrap.innerHTML = '<div class="muted">Ø¨Ø¹Ø¯ Ø§Ø² ÙˆØ±ÙˆØ¯ØŒ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>';
          ordersCount.textContent = "0";
        }

        updateCtasText();
      }

      // =========================
      // Draft
      // =========================
      function saveDraft(){
        const draft = {
          device_model: (deviceModel.value || "").trim(),
          problem: (problemDesc.value || "").trim(),
          address: (address.value || "").trim(),
          pickup_time: (pickupTime.value || "").trim()
        };
        localStorage.setItem(DRAFT_KEY, JSON.stringify(draft));
      }
      function loadDraft(){
        try{
          const raw = localStorage.getItem(DRAFT_KEY);
          if(!raw) return;
          const d = JSON.parse(raw);
          if(d && typeof d === "object"){
            if(d.device_model != null) deviceModel.value = d.device_model;
            if(d.problem != null) problemDesc.value = d.problem;
            if(d.address != null) address.value = d.address;
            if(d.pickup_time != null) pickupTime.value = d.pickup_time;
          }
        }catch(_e){}
      }

      // =========================
      // Timer (120s)
      // =========================
      function formatMMSS(sec){
        const m = Math.floor(sec / 60);
        const s = sec % 60;
        return String(m).padStart(2,"0") + ":" + String(s).padStart(2,"0");
      }
      function stopTimer(){
        if(timerId) clearInterval(timerId);
        timerId = null;
      }
      function startTimer(seconds){
        stopTimer();
        remaining = seconds;
        resendBtn.disabled = true;
        setStatus(timerPill, "warn", formatMMSS(remaining));

        timerId = setInterval(() => {
          remaining -= 1;
          if(remaining <= 0){
            stopTimer();
            setStatus(timerPill, "ok", "00:00");
            resendBtn.disabled = false;
            return;
          }
          setStatus(timerPill, "warn", formatMMSS(remaining));
        }, 1000);
      }

      // =========================
      // Edge calls
      // =========================
      async function requestOtpEdge(phone09){
        const res = await fetch(OTP_REQUEST_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "apikey": SUPABASE_ANON_KEY,
            "Authorization": "Bearer " + SUPABASE_ANON_KEY
          },
          body: JSON.stringify({ phone: phone09 })
        });
        const json = await safeJson(res);
        if(!res.ok){
          const msg = extractErrorMessage(json) || ("HTTP " + res.status);
          throw new Error(msg);
        }
        if(json && json.ok === false){
          throw new Error(extractErrorMessage(json) || "Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯");
        }
        return json || { ok: true, expires_in_seconds: 120 };
      }

      async function verifyOtpEdge(phone09, code){
        const res = await fetch(OTP_VERIFY_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "apikey": SUPABASE_ANON_KEY,
            "Authorization": "Bearer " + SUPABASE_ANON_KEY
          },
          body: JSON.stringify({ phone: phone09, code })
        });
        const json = await safeJson(res);
        if(!res.ok){
          const msg = extractErrorMessage(json) || ("HTTP " + res.status);
          throw new Error(msg);
        }
        if(json && json.ok === false){
          throw new Error(extractErrorMessage(json) || "ÙˆØ±ÙˆØ¯ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯");
        }
        return json || { ok: true };
      }

      // =========================
      // Orders UI mapping
      // =========================
      const TRACK_STEPS = [
        { key:"requested", title:"Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª", desc:"Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯ Ùˆ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³Øª." },
        { key:"picked_up", title:"Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø§ Ù¾ÛŒÚ©", desc:"Ù¾ÛŒÚ© Ù…ÙˆØ¨ÛŒÚ©Ø³ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯." },
        { key:"quoted", title:"Ø§Ø¹Ù„Ø§Ù…/ØªØ£ÛŒÛŒØ¯ Ù‡Ø²ÛŒÙ†Ù‡", desc:"Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø¹Ù„Ø§Ù… Ø´Ø¯ Ùˆ Ù…Ù†ØªØ¸Ø± ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§Ø³Øª." },
        { key:"repairing", title:"Ø¯Ø± Ø­Ø§Ù„ ØªØ¹Ù…ÛŒØ±", desc:"ØªÚ©Ù†Ø³ÛŒÙ† Ù…ÙˆØ¨ÛŒÚ©Ø³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù… ØªØ¹Ù…ÛŒØ± Ø§Ø³Øª." },
        { key:"delivering", title:"Ø§Ø±Ø³Ø§Ù„ Ø¨Ø±Ø§ÛŒ ØªØ­ÙˆÛŒÙ„", desc:"Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ùˆ Ø¯Ø± Ù…Ø³ÛŒØ± ØªØ­ÙˆÛŒÙ„ Ø§Ø³Øª." },
        { key:"delivered", title:"ØªØ­ÙˆÛŒÙ„ Ø¨Ù‡ Ø´Ù…Ø§", desc:"Ø¯Ø³ØªÚ¯Ø§Ù‡ ØªØ­ÙˆÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯ âœ…" }
      ];
      function normalizeStatus(raw){
        const s = (raw || "").toString().trim().toLowerCase();
        if(["new","created","request","requested","pending"].includes(s)) return "requested";
        if(["pickup","pickedup","picked_up","courier_pickup"].includes(s)) return "picked_up";
        if(["quote","quoted","price","awaiting_approval","approved_pending"].includes(s)) return "quoted";
        if(["repair","repairing","in_repair","fixing"].includes(s)) return "repairing";
        if(["deliver","delivering","shipping","on_the_way"].includes(s)) return "delivering";
        if(["done","delivered","completed","complete"].includes(s)) return "delivered";
        return s || "requested";
      }
      function statusLabel(key){
        const k = normalizeStatus(key);
        const m = {
          requested: "Ø«Ø¨Øª Ø´Ø¯Ù‡",
          picked_up: "Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø§ Ù¾ÛŒÚ©",
          quoted: "Ø§Ø¹Ù„Ø§Ù… Ù‡Ø²ÛŒÙ†Ù‡",
          repairing: "Ø¯Ø± Ø­Ø§Ù„ ØªØ¹Ù…ÛŒØ±",
          delivering: "Ø¯Ø± Ù…Ø³ÛŒØ± ØªØ­ÙˆÛŒÙ„",
          delivered: "ØªØ­ÙˆÛŒÙ„ Ø´Ø¯"
        };
        return m[k] || k;
      }
      function stepIndex(key){
        const idx = TRACK_STEPS.findIndex(x => x.key === key);
        return idx < 0 ? 0 : idx;
      }
      function renderTrack(statusKey){
        const norm = normalizeStatus(statusKey);
        const activeIdx = stepIndex(norm);
        return `
          <div class="track">
            ${TRACK_STEPS.map((s, i) => {
              const cls = i < activeIdx ? "done" : (i === activeIdx ? "active" : "");
              const bullet = i < activeIdx ? "âœ“" : (i === activeIdx ? "â€¢" : (i+1));
              return `
                <div class="track-step ${cls}">
                  <div class="track-bullet">${bullet}</div>
                  <div class="tt">
                    <b>${esc(s.title)}</b>
                    <span>${esc(s.desc)}</span>
                  </div>
                </div>
              `;
            }).join("")}
          </div>
        `;
      }

      // =========================
      // Actions
      // =========================
      async function sendOtp(){
        setMsg(authMsg, "", "");
        const d = normalizeDigits(authPhone.value);
        if(!isValidIranMobile(d)){
          setMsg(authMsg, "err", "Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¯Ø±Ø³Øª Ù†ÛŒØ³Øª. Ù…Ø«Ù„ 0912xxxxxxx ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");
          return;
        }
        const phone09 = to09(d);
        if(!phone09){
          setMsg(authMsg, "err", "Ø´Ù…Ø§Ø±Ù‡ Ù‚Ø§Ø¨Ù„ ØªØ¨Ø¯ÛŒÙ„ Ù†ÛŒØ³Øª. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.");
          return;
        }

        sendOtpBtn.disabled = true;
        resendBtn.disabled = true;
        setMsg(authMsg, "warn", "Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯â€¦");

        try{
          const out = await requestOtpEdge(phone09);
          lastPhone09 = phone09;

          showOtpBox(true);
          setMsg(authMsg, "ok", "Ú©Ø¯ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…");

          const secs = Number(out?.expires_in_seconds ?? 120);
          startTimer(Number.isFinite(secs) ? secs : 120);

          authCode.focus();
        }catch(err){
          setMsg(authMsg, "err", "Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯: " + (err?.message || "Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ"));
          showOtpBox(false);
          stopTimer();
        }finally{
          sendOtpBtn.disabled = false;
        }
      }

      async function verifyOtp(){
        setMsg(authMsg, "", "");
        const code = normalizeDigits(authCode.value);

        if(!lastPhone09){
          setMsg(authMsg, "err", "Ø§ÙˆÙ„ Ø´Ù…Ø§Ø±Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ Ùˆ Ú©Ø¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.");
          return;
        }
        if(!code || code.length < 4){
          setMsg(authMsg, "err", "Ú©Ø¯ Ù¾ÛŒØ§Ù…Ú©ÛŒ Ø±Ø§ Ø¯Ø±Ø³Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");
          return;
        }

        verifyOtpBtn.disabled = true;
        setMsg(authMsg, "warn", "Ø¯Ø± Ø­Ø§Ù„ ØªØ§ÛŒÛŒØ¯ Ú©Ø¯â€¦");

        try{
          await verifyOtpEdge(lastPhone09, code);

          loginState = { phone09: lastPhone09 };
          localStorage.setItem(LS_KEY, JSON.stringify(loginState));

          authCode.value = "";
          setMsg(authMsg, "ok", "ÙˆØ±ÙˆØ¯ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ âœ…");

          applyLoginUI();
          loadDraft();
          await loadOrders();
        }catch(err){
          setMsg(authMsg, "err", "ÙˆØ±ÙˆØ¯ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯: " + (err?.message || "Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ"));
        }finally{
          verifyOtpBtn.disabled = false;
        }
      }

      async function logout(){
        setMsg(authMsg, "", "");
        loginState = null;
        localStorage.removeItem(LS_KEY);
        lastPhone09 = null;
        showOtpBox(false);
        stopTimer();
        setMsg(authMsg, "ok", "Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯.");
        applyLoginUI();
      }

      function focusAuthWithMessage(){
        setMsg(orderMsg, "warn", "Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙØ±Ù… Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯. Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒØŒ Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ú©Ø¯ Ù¾ÛŒØ§Ù…Ú©ÛŒ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯.");
        saveDraft();
        document.getElementById("order").scrollIntoView({ behavior:"smooth", block:"start" });
        setTimeout(() => authPhone && authPhone.focus(), 350);
      }

      async function createOrder(){
        setMsg(orderMsg, "", "");

        const dm = (deviceModel.value || "").trim();
        const pr = (problemDesc.value || "").trim();
        const ad = (address.value || "").trim();
        const pt = (pickupTime.value || "").trim();

        if(!dm || !pr || !ad){
          setMsg(orderMsg, "err", "Ù…Ø¯Ù„ Ú¯ÙˆØ´ÛŒØŒ Ù…Ø´Ú©Ù„ Ùˆ Ø¢Ø¯Ø±Ø³ Ø±Ø§ Ú©Ø§Ù…Ù„ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");
          return;
        }

        if(!loggedIn()){
          focusAuthWithMessage();
          return;
        }

        createOrderBtn.disabled = true;
        setMsg(orderMsg, "warn", "Ø¯Ø± Ø­Ø§Ù„ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´â€¦");

        const payload = {
          customer_phone: loginState.phone09,
          device_model: dm,
          problem: pr,
          address: ad,
          pickup_time: pt || null,
          status: "requested"
        };

        try{
          const { data, error } = await supabase
            .from("orders")
            .insert(payload)
            .select("*")
            .single();

          if(error){
            console.error("Insert error:", error);
            setMsg(orderMsg, "err", "Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯: " + (error.message || "Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ"));
            return;
          }

          if(!data){
            console.warn("Insert returned no data");
            setMsg(orderMsg, "warn", "Ø³ÙØ§Ø±Ø´ Ø«Ø¨Øª Ø´Ø¯ ÙˆÙ„ÛŒ Ù¾Ø§Ø³Ø®ÛŒ Ø¨Ø±Ù†Ú¯Ø´Øª. Ù„Ø·ÙØ§Ù‹ Â«Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒÂ» Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯.");
          }else{
            setMsg(orderMsg, "ok", "Ø³ÙØ§Ø±Ø´ Ø«Ø¨Øª Ø´Ø¯ âœ…");
          }

          deviceModel.value = "";
          problemDesc.value = "";
          address.value = "";
          pickupTime.value = "";
          localStorage.removeItem(DRAFT_KEY);

          await loadOrders();
        }catch(e){
          console.error("Create order exception:", e);
          setMsg(orderMsg, "err", "Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯: " + (e?.message || "Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ"));
        }finally{
          createOrderBtn.disabled = false;
        }
      }

      async function loadOrders(){
        if(!loggedIn()){
          ordersCount.textContent = "0";
          return;
        }

        ordersWrap.innerHTML = '<div class="muted">Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§â€¦</div>';

        const { data, error } = await supabase
          .from("orders")
          .select("*")
          .eq("customer_phone", loginState.phone09)
          .order("created_at", { ascending:false });

        if(error){
          console.error("Load orders error:", error);
          ordersWrap.innerHTML = `
            <div class="status err">Ø®ÙˆØ§Ù†Ø¯Ù† Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯</div>
            <div class="hint" style="color:var(--danger)">${esc(error.message || "Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ")}</div>
          `;
          ordersCount.textContent = "0";
          return;
        }

        const list = data || [];
        ordersCount.textContent = String(list.length);

        if(list.length === 0){
          ordersWrap.innerHTML = '<div class="muted">Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ø«Ø¨Øª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.</div>';
          return;
        }

        ordersWrap.innerHTML = list.map(o => {
          const id = o.id ?? o.order_id ?? "";
          const created = o.created_at ? fmtDate(o.created_at) : "";
          const st = o.status ?? o.state ?? "requested";
          const dm = o.device_model ?? o.model ?? "";
          const pr = o.problem ?? o.issue ?? "";
          const ad = o.address ?? "";
          const pt = o.pickup_time ?? o.pickup_at ?? "";

          return `
            <div class="order-item">
              <div class="order-top">
                <b>Ø³ÙØ§Ø±Ø´ #${esc(id)}</b>
                <span class="pill">ÙˆØ¶Ø¹ÛŒØª: ${esc(statusLabel(st))}</span>
              </div>
              <div class="muted">
                <b>Ù…Ø¯Ù„:</b> ${esc(dm)}<br>
                <b>Ù…Ø´Ú©Ù„:</b> ${esc(pr)}<br>
                <b>Ø¢Ø¯Ø±Ø³:</b> ${esc(ad)}${pt ? `<br><b>Ø²Ù…Ø§Ù† Ø¯Ø±ÛŒØ§ÙØª:</b> ${esc(pt)}` : ""}${created ? `<br><b>Ø«Ø¨Øª:</b> ${esc(created)}` : ""}
              </div>
              ${renderTrack(st)}
            </div>
          `;
        }).join("");
      }

      async function resend(){
        if(resendBtn.disabled) return;
        if(!lastPhone09){
          setMsg(authMsg, "err", "Ø§ÙˆÙ„ Ø´Ù…Ø§Ø±Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");
          return;
        }
        authPhone.value = lastPhone09;
        await sendOtp();
      }

      // =========================
      // Init
      // =========================
      try{
        const raw = localStorage.getItem(LS_KEY);
        loginState = raw ? JSON.parse(raw) : null;
      }catch(_e){
        loginState = null;
      }

      applyLoginUI();
      loadDraft();
      if(loggedIn()){
        loadOrders();
      }

      // events
      sendOtpBtn.addEventListener("click", sendOtp);
      verifyOtpBtn.addEventListener("click", verifyOtp);
      resendBtn.addEventListener("click", resend);

      createOrderBtn.addEventListener("click", createOrder);
      refreshOrdersBtn.addEventListener("click", loadOrders);

      if(logoutBtn2) logoutBtn2.addEventListener("click", logout);
      if(logoutBtn) logoutBtn.addEventListener("click", logout);

      // Save draft on input changes
      [deviceModel, problemDesc, address, pickupTime].forEach(el => {
        if(!el) return;
        el.addEventListener("input", () => saveDraft());
      });

      // Quick issue chips -> append to textarea
      document.querySelectorAll(".qchip").forEach(btn => {
        btn.addEventListener("click", () => {
          const val = (btn.getAttribute("data-issue") || "").trim();
          if(!val) return;
          const cur = (problemDesc.value || "").trim();
          const next = cur ? (cur + (cur.endsWith("ØŒ") || cur.endsWith(",") ? " " : "ØŒ ") + val) : val;
          problemDesc.value = next;
          problemDesc.focus();
          saveDraft();
        });
      });

      // FAQ icon toggle (+ / -)
      document.querySelectorAll("details").forEach(d => {
        const s = d.querySelector("summary .chev");
        if(!s) return;
        d.addEventListener("toggle", () => {
          s.textContent = d.open ? "âˆ’" : "+";
        });
      });
    })();
  </script>
</body>
</html>
